version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        # ðŸ‘‡ ì—¬ê¸°ê°€ í•µì‹¬! í™˜ê²½ ë³€ìˆ˜ë¥¼ .env.production íŒŒì¼ë¡œ ë§Œë“­ë‹ˆë‹¤.
        - env | grep -e DATABASE_URL -e LIVEKIT_ -e NEXTAUTH_ -e GOOGLE_ >> .env.production
        - npx prisma generate
        - npm run build
  artifacts:
    baseDirectory: .next
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*